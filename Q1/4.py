# -*- coding: UTF-8 -*-
import numpy as np
import matplotlib.pyplot as plt
from scipy.cluster.hierarchy import dendrogram, linkage, fcluster

# 创建一维样本数据
labels = ['牛首生菜', '四川红香椿', '本地小毛白菜', '白菜苔', '苋菜', '云南生菜', '竹叶菜', '小白菜', '南瓜尖', '上海青', '萝卜叶', '牛首油菜', '茼蒿', '蔡甸藜蒿', '菜心', '木耳菜', '大白菜', '豌豆尖', '云南油麦菜', '马齿苋', '本地菠菜', '黄心菜(1)', '黑油菜', '本地上海青', '菠菜', '娃娃菜', '红薯尖', '枝江红菜苔', '黄花菜', '快菜', '随州泡泡青', '田七', '东门口小白菜', '外地茼蒿', '冰草', '紫苏', '薄荷叶', '蒲公英', '丝瓜尖', '奶白菜', '芥菜', '大芥兰', '面条菜', '甜白菜', '荠菜', '马兰头', '甘蓝叶', '洪山菜苔', '本地黄心油菜', '青菜苔', '小青菜(1)', '鲜粽子叶', '艾蒿', '奶白菜苗', '菊花油菜', '双沟白菜', '枝江红菜苔(份)', '云南生菜(份)', '云南油麦菜(份)', '茼蒿(份)', '菠菜(份)', '菜心(份)', '上海青(份)', '小青菜(2)', '洪山菜薹珍品手提袋', '洪山菜薹莲藕拼装礼盒', '鱼腥草(份)', '冰草(盒)', '紫苏(份)', '襄甜红菜苔(袋)', '白蒿', '鱼腥草', '竹叶菜(份)', '春菜', '槐花', '红薯尖(份)', '蔡甸藜蒿(份)', '红珊瑚(粗叶)', '红橡叶', '绿牛油', '保康高山大白菜', '黄心菜(2)', '苋菜(份)', '小白菜(份)', '小青菜(份)', '奶白菜(份)', '芝麻苋菜', '鲜粽叶', '鲜粽叶(袋)(1)', '外地茼蒿(份)', '龙牙菜', '黄白菜(1)', '大白菜秧', '木耳菜(份)', '芥兰', '油菜苔', '黄白菜(2)', '紫贝菜', '鲜粽叶(袋)(2)', '鲜粽叶(袋)(3)', '西兰花', '紫白菜(1)', '青梗散花', '紫白菜(2)', '枝江青梗散花', '藕', '净藕(1)', '高瓜(1)', '莲蓬(个)', '菱角', '红莲藕带', '荸荠', '野藕(1)', '野生粉藕', '洪湖莲藕(粉藕)', '净藕(2)', '鲜藕带(袋)', '荸荠(份)', '高瓜(2)', '洪湖莲藕(脆藕)', '净藕(3)', '野藕(2)', '洪湖藕带', '藕尖', '紫茄子(2)', '青茄子(1)', '紫圆茄', '大龙茄子', '花茄子', '长线茄', '青茄子(2)', '紫茄子(1)', '圆茄子(1)', '圆茄子(2)', '红尖椒', '青尖椒', '红椒(1)', '青杭椒(1)', '红杭椒', '泡泡椒(精品)', '七彩椒(1)', '青杭椒(2)', '灯笼椒(1)', '小米椒', '螺丝椒', '红线椒', '红灯笼椒(1)', '水果辣椒(橙色)', '芜湖青椒(1)', '组合椒系列', '芜湖青椒(2)', '小皱皮', '余干椒', '辣妹子', '紫尖椒', '紫螺丝椒', '水果辣椒', '小米椒(份)', '青尖椒(份)', '七彩椒(份)', '灯笼椒(份)', '红灯笼椒(份)', '小皱皮(份)', '芜湖青椒(份)', '青杭椒(份)', '红杭椒(份)', '水果辣椒(份)', '青线椒(份)', '红尖椒(份)', '螺丝椒(份)', '七彩椒(2)', '灯笼椒(2)', '红灯笼椒(2)', '姜蒜小米椒组合装(小份)', '红椒(份)', '青红杭椒组合装(份)', '红椒(2)', '青红尖椒组合装(份)', '青线椒', '西峡花菇(1)', '西峡香菇(1)', '金针菇(1)', '平菇', '姬菇(1)', '白玉菇(1)', '双孢菇', '蟹味菇(1)', '海鲜菇(1)', '杏鲍菇(1)', '姬菇(包)', '金针菇(袋)(1)', '银耳(朵)', '猴头菇', '鲜木耳(1)', '鸡枞菌', '黑牛肝菌', '海鲜菇(袋)(1)', '秀珍菇', '虫草花(盒)(1)', '茶树菇(袋)', '黑皮鸡枞菌', '杏鲍菇(袋)', '白玉菇(袋)', '虫草花(袋)', '赤松茸', '牛排菇', '活体银耳', '杏鲍菇(250克)', '赤松茸(盒)', '牛排菇(盒)', '猪肚菇(盒)', '黑牛肝菌(盒)', '黑皮鸡枞菌(盒)', '海鲜菇(份)', '鲜木耳(份)', '杏鲍菇(份)', '双孢菇(份)', '金针菇(份)', '虫草花(份)', '姬菇(份)', '西峡香菇(2)', '鲜木耳(2)', '海鲜菇(2)', '姬菇(2)', '金针菇(2)', '杏鲍菇(2)', '西峡花菇(2)', '双孢菇(盒)', '花菇(一人份)', '菌菇火锅套餐(份)', '蟹味菇与白玉菇双拼(盒)', '西峡香菇(份) ', '菌蔬四宝(份)', '鹿茸菇(盒)', '虫草花', '蟹味菇(袋)', '海鲜菇(袋)(2)', '绣球菌', '绣球菌(袋)', '金针菇(袋)(3)', '金针菇(袋)(2)', '金针菇(盒)', '白玉菇(2)', '蟹味菇(2)', '白玉菇(盒)', '蟹味菇(盒)', '海鲜菇(袋)(4)', '海鲜菇(包)', '海鲜菇(袋)(3)', '虫草花(盒)(2)', '和丰阳光海鲜菇(包)']
x = [899.8369999999995, 333.2229999999996, 121.01999999999994, 718.6759999999991, 5100.061000000032, 15910.461000000281, 7240.763999999914, 1707.3030000000035, 18.427999999999997, 7606.755999999967, 415.3249999999998, 3836.565999999987, 4110.162000000011, 939.5749999999994, 4496.716999999995, 1566.639999999998, 19187.21800000003, 85.04799999999994, 10305.363999999907, 94.31499999999998, 0.0, 2911.299000000001, 101.12500000000007, 596.6969999999989, 5216.461000000009, 8982.0, 5159.433000000003, 4962.454000000026, 1.7839999999999998, 91.27200000000008, 675.2209999999998, 45.25199999999998, 1543.4780000000019, 732.6149999999998, 16.337, 30.171999999999993, 7.568000000000001, 4.232, 14.227, 5816.308000000009, 51.73500000000001, 7.48, 12.936000000000003, 4685.261000000009, 15.887, 3.3899999999999997, 0.9430000000000001, 25.0, 1375.1219999999987, 30.27499999999999, 3267.9930000000086, 6.32, 10.512, 16.828999999999997, 8.472, 2.8859999999999997, 313.0, 14325.0, 8848.0, 587.0, 6342.0, 2053.0, 3070.0, 296.0, 3.0, 3.0, 470.0, 29.0, 40.0, 41.0, 2.224, 28.600999999999992, 1076.0, 24.996000000000002, 9.300000000000002, 727.0, 65.0, 0.682, 0.419, 1.153, 6484.7359999999935, 1882.7679999999984, 426.0, 341.0, 4057.0, 6931.0, 9.381, 6.0089999999999995, 200.0, 127.0, 186.83099999999993, 155.49600000000007, 16.538000000000004, 27.0, 0.671, 40.726000000000006, 7987.989999999957, 27.02199999999999, 8.0, 128.0, 27537.228000000214, 13.251, 8393.786000000004, 0.615, 5821.570999999981, 0.0, 27149.44000000013, 1179.6520000000003, 2095.0, 126.42199999999998, 100.46900000000001, 1671.4240000000002, 448.86000000000007, 50.81499999999998, 6052.0, 62.22100000000004, 21.0, 10.0, 449.6839999999998, 40.0, 348.7999999999995, 11.397999999999998, 745.5540000000013, 18.614, 13602.000999999997, 3516.76300000001, 7.6579999999999995, 1167.218, 101.37900000000002, 2496.4130000000046, 190.52200000000042, 297.1580000000002, 4.981000000000001, 1047.688999999999, 438.59299999999945, 1186.531000000001, 3457.8750000000086, 1.817, 658.5599999999997, 9703.125000000078, 263.1919999999999, 128.5, 212.04299999999995, 1447.3530000000017, 7792.18100000002, 27.713000000000026, 278.61199999999974, 0.415, 28164.331000000486, 641.0, 0.0, 163.64000000000004, 33.90699999999999, 119.64499999999995, 1.754, 6.843000000000002, 28.57099999999999, 10833.0, 932.0, 18.0, 6.0, 13.0, 5175.0, 0.0, 457.0, 707.0, 283.0, 2307.0, 953.0, 8235.0, 370.033, 76.59599999999999, 214.80999999999995, 1868.0, 93.0, 1257.0, 769.207999999999, 45.0, 2219.7810000000063, 2810.7160000000035, 11920.22700000001, 4697.4699999999675, 2542.9589999999953, 375.222, 22.0, 627.7180000000001, 102.0, 502.1649999999999, 2404.9769999999944, 1071.0, 2149.0, 287.0, 3.0, 212.17100000000008, 1.2149999999999999, 1.084, 1266.0, 14.708, 0.0, 90.0, 5.795, 1343.0, 2927.0, 978.0, 2.388, 6.602, 1.0, 10.0, 5.0, 34.0, 7.0, 4.0, 4.0, 1301.0, 741.0, 102.0, 10.0, 1.0, 1109.0, 682.0, 413.840999999999, 28.534999999999986, 51.894999999999975, 16.953, 473.31500000000005, 1304.5520000000022, 9.239999999999998, 4229.0, 3.0, 8.0, 371.0, 379.0, 13.0, 3.0, 39.977, 399.0, 708.0, 7.0, 2.0, 2549.0, 3175.0, 15596.0, 251.0, 95.0, 168.0, 81.0, 2149.0, 1303.0, 1775.0, 1.0, 109.0]

print(labels)
X = np.array(x)

# 将一维数据转换为二维数据
X_2d = X.reshape(-1, 1)

# 使用层次聚类算法进行聚类
Z = linkage(X_2d, method='single')

threshold = 100
res = fcluster(Z, threshold, criterion='distance')
print(res)

# 输出聚类结果
print(labels)
# 绘制树状图
plt.figure(figsize=(60, 10))
dendrogram(Z)
plt.rcParams['font.sans-serif'] = ['SimHei']
# plt.xticks(rotation=45)
# plt.xticks([])  # 去掉横坐标值
# plt.xticks(x, labels)
plt.xlabel('单品对应列表位置')
plt.ylabel('距离')
plt.title('蔬菜各单品销售量聚类示意图')
plt.show()